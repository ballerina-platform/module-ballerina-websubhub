docker run --rm \
  --name hub-1 \
  --hostname hub1 \
  -p 9000:9000 \
  --env HUB_PORT=9000 \
  --env SERVER_ID=hub-1 \
  --env HTTPS_ON=false \
  --env BALLERINA_MAX_POOL_SIZE="500" \
  --env KAFKA_BOOTSTRAP_NODE=broker:9094 \
  --env STATE_SNAPSHOT_ENDPOINT=http://consolidator:10001 \
  --env IDP_TOKEN_ISSUER=https://localhost:9443/oauth2/token \
  --env IDP_TOKEN_AUDIENCE=ballerina \
  --env IDP_TOKEN_SCOPE_KEY=scope \
  --env IDP_JWKS_ENDPOINT=https://idp:9443/oauth2/jwks \
  --env IDP_CLIENT_TRUSTSTORE_FILEPATH=./resources/client-truststore.jks \
  --env IDP_CLIENT_TRUSTSTORE_PASSWORD=wso2carbon \
  --env WEBSUB_EVENTS_CONSUMER_GROUP=websub-events-receiver-hub-1 \
  --env TRUSTSTORE_FILE_NAME=client-truststore.jks \
  --env TRUSTSTORE_PASSWORD=password \
  --env KEYSTORE_PASSWORD=password \
  --env KAFKA_CONSUMER_MAX_POLL_RECORDS=50 \
  --env RETRYABLE_STATUS_CODES="500,502,503" \
  -v ./_resources/hub.config.toml:/home/ballerina/Config.toml \
  -v ./_resources/secrets/kafka-client/kafka-client.trustStore.jks:/home/ballerina/resources/brokercerts/client-truststore.jks \
  -v ./_resources/secrets/kafka-client/kafka-client.keystore.jks:/home/ballerina/resources/brokercerts/client-keystore.jks \
  -v ./_resources/secrets/idp/client-truststore.jks:/home/ballerina/resources/client-truststore.jks \
  -v ./_resources/secrets/hub/hub-1.keystore.jks:/home/ballerina/resources/hub.keystore.jks \
  --memory=2g \
  --memory-reservation=1g \
  --cpus="2.0" \
  --health-cmd='curl -k --fail https://hub1:9000/health || exit 1' \
  --health-interval=30s \
  --health-timeout=10s \
  --health-start-period=30s \
  --health-retries=10 \
  --network kafkahub_hub_network \
  ballerina/kafkahub:13.0.0


docker run --rm --network="kafkahub_hub_network" -e TOPIC_NAME="topic-1" -e HUB_URL="http://hub1:9000/hub" -e NUMBER_OF_REQUESTS=1000 -e PARALLELISM=1 -e PAYLOAD_SIZE="1KB" ballerina/publisherloadtest:1.0.0

error: java.lang.ClassCastException {"message":"class ballerina.websubhub.1.$value$UpdateMessage cannot be cast to class io.ballerina.runtime.api.values.BObject (ballerina.websubhub.1.$value$UpdateMessage and io.ballerina.runtime.api.values.BObject are in unnamed module of loader 'app')"}
	at ballerina.websubhub.1.HttpToWebsubhubAdaptor:callOnUpdateMethod(natives.bal:46)
	   ballerina.websubhub.1:processContentPublish(content_distribution.bal:27)
	   ballerina.websubhub.1.HttpService:$post$.(http_service.bal:64)
